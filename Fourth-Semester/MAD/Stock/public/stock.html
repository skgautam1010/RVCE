<!DOCTYPE html>
<html>
    <head>

           </head>
    <link rel="manifest" href="manifest.json">
    <body>
        <center>
        <h1>Simple Balance Sheet Statement</h1>
        <table id='tbl' border=1>
            <tr>
                <th style="width: 90px;background-color:black;color:cyan;">S No.</th>
                <th style="width: 120px;background-color:black;color:cyan;">Date</th>
                <th style="width: 120px;background-color:black;color:cyan;">Open</th>
                <th style="width: 120px;background-color:black;color:cyan;">High</th>
                <th style="width: 120px;background-color:black;color:cyan;">Low</th>
                <th style="width:120px;background-color:black;color:cyan;">Close</th>
            </tr>
        </table>

        </center>
        <style>
        tr:nth-child(even){
            background-color:black;
            color:white;
        }
        tr:nth-child(odd){
            background-color:grey;
            color:white;
        }
        </style>
    </body>
    <script>
        window.addEventListener('DOMContentLoaded', (event) =>{
            fetch("https://mboum.com/api/v1/hi/history/?symbol=F&interval=5m&diffandsplits=true&apikey=demo")
            .then(response => response.json())
            .then(data => {
                var dat = JSON.stringify(data);

                dat1 = Object.value(data.items);

                var bod = document.getElementById("body");
                var tb = document.getElementById("tbl");

                for(let i=0; i<dat1.length; i++)
                {
                    var tr = document.createElement('tr');
                    var td = document.createElement('td');

                    td.innerHTML = i+1;
                    tr.appendChild(td);
                    tb.appendChild(tr);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i].date;
                    tr.appendChild(td);
                    tb.appendChild(tr);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i].open;
                    tr.appendChild(td);
                    tb.appendChild(tr);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i].high;
                    tr.appendChild(td);
                    tb.appendChild(tr);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i].low;
                    tr.appendChild(td);
                    tb.appendChild(tr);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i].close;
                    tr.appendChild(td);
                    tb.appendChild(tr);

                    
                }

            })
            .catch(error => console.log('error',error));
        });
    </script>
    <script>
    if('serviceWorker' in navigator){
        window.addEventListener('load',()=>{
            navigator.serviceWorker.register('sw.js')
        .then(registration =>{
            console.log('service worker is registered',registration);
        })
        .catch(err =>{
            console.log('Registration failed',err);
        })
        })
    }
</script>
</html>